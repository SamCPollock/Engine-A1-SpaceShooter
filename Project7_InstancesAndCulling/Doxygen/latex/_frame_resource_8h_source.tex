\hypertarget{_frame_resource_8h_source}{}\doxysection{Frame\+Resource.\+h}
\label{_frame_resource_8h_source}\index{Project7\_InstancesAndCulling/FrameResource.h@{Project7\_InstancesAndCulling/FrameResource.h}}
\mbox{\hyperlink{_frame_resource_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00010}00010 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00012}00012 \textcolor{preprocessor}{\#include "{}../Common/d3dUtil.h"{}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00013}00013 \textcolor{preprocessor}{\#include "{}../Common/MathHelper.h"{}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00014}00014 \textcolor{preprocessor}{\#include "{}../Common/UploadBuffer.h"{}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00019}\mbox{\hyperlink{struct_object_constants}{00019}} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_object_constants}{ObjectConstants}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00020}00020 \{}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00021}\mbox{\hyperlink{struct_object_constants_ac2a0621da4e0ef99d7c8100ed64359ff}{00021}}     DirectX::XMFLOAT4X4 \mbox{\hyperlink{class_world}{World}} = MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00022}\mbox{\hyperlink{struct_object_constants_a0a7f8e4817a18595707569b307060a42}{00022}}     DirectX::XMFLOAT4X4 \mbox{\hyperlink{struct_object_constants_a0a7f8e4817a18595707569b307060a42}{TexTransform}} = MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00023}00023 \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00025}00025 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00032}\mbox{\hyperlink{struct_pass_constants}{00032}} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_pass_constants}{PassConstants}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00033}00033 \{}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00034}\mbox{\hyperlink{struct_pass_constants_a31fec7617b89727cc44c9802c57bb57a}{00034}}     DirectX::XMFLOAT4X4 \mbox{\hyperlink{struct_pass_constants_a31fec7617b89727cc44c9802c57bb57a}{View}} = MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00035}\mbox{\hyperlink{struct_pass_constants_a4c0b015fa6bc9623ccfa4be6a16a4da9}{00035}}     DirectX::XMFLOAT4X4 \mbox{\hyperlink{struct_pass_constants_a4c0b015fa6bc9623ccfa4be6a16a4da9}{InvView}} = MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00036}\mbox{\hyperlink{struct_pass_constants_a8af99b882f26e3507717dacc0c957521}{00036}}     DirectX::XMFLOAT4X4 \mbox{\hyperlink{struct_pass_constants_a8af99b882f26e3507717dacc0c957521}{Proj}} = MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00037}\mbox{\hyperlink{struct_pass_constants_a9a1ac0a0421d54bf40c9749ec1d1537c}{00037}}     DirectX::XMFLOAT4X4 \mbox{\hyperlink{struct_pass_constants_a9a1ac0a0421d54bf40c9749ec1d1537c}{InvProj}} = MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00038}\mbox{\hyperlink{struct_pass_constants_aa44b7dd1a9692065876bd8d2d6efb76c}{00038}}     DirectX::XMFLOAT4X4 \mbox{\hyperlink{struct_pass_constants_aa44b7dd1a9692065876bd8d2d6efb76c}{ViewProj}} = MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00039}\mbox{\hyperlink{struct_pass_constants_a54f008edf338ad532633c2bb797fca88}{00039}}     DirectX::XMFLOAT4X4 \mbox{\hyperlink{struct_pass_constants_a54f008edf338ad532633c2bb797fca88}{InvViewProj}} = MathHelper::Identity4x4();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00040}\mbox{\hyperlink{struct_pass_constants_aa902cc9c84da7a58dd0302624e58bfc3}{00040}}     DirectX::XMFLOAT3 \mbox{\hyperlink{struct_pass_constants_aa902cc9c84da7a58dd0302624e58bfc3}{EyePosW}} = \{ 0.0f, 0.0f, 0.0f \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00041}\mbox{\hyperlink{struct_pass_constants_aaae2d67cebf30e767a800a1e508e249a}{00041}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{struct_pass_constants_aaae2d67cebf30e767a800a1e508e249a}{cbPerObjectPad1}} = 0.0f;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00042}\mbox{\hyperlink{struct_pass_constants_aca6c8d20f6c92f8a117ef21bd7666687}{00042}}     DirectX::XMFLOAT2 \mbox{\hyperlink{struct_pass_constants_aca6c8d20f6c92f8a117ef21bd7666687}{RenderTargetSize}} = \{ 0.0f, 0.0f \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00043}\mbox{\hyperlink{struct_pass_constants_af25015138bf3b92384560ec1eed1e6aa}{00043}}     DirectX::XMFLOAT2 \mbox{\hyperlink{struct_pass_constants_af25015138bf3b92384560ec1eed1e6aa}{InvRenderTargetSize}} = \{ 0.0f, 0.0f \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00044}\mbox{\hyperlink{struct_pass_constants_affe3124795eccdba77dae8cef5399e7d}{00044}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{struct_pass_constants_affe3124795eccdba77dae8cef5399e7d}{NearZ}} = 0.0f;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00045}\mbox{\hyperlink{struct_pass_constants_acff44014fa749b6cc636c0ed3516bab7}{00045}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{struct_pass_constants_acff44014fa749b6cc636c0ed3516bab7}{FarZ}} = 0.0f;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00046}\mbox{\hyperlink{struct_pass_constants_a8b7dc8578d216518bff83264bc85d34c}{00046}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{struct_pass_constants_a8b7dc8578d216518bff83264bc85d34c}{TotalTime}} = 0.0f;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00047}\mbox{\hyperlink{struct_pass_constants_afd52d73d793299a6ad6a68bc137bd841}{00047}}     \textcolor{keywordtype}{float} \mbox{\hyperlink{struct_pass_constants_afd52d73d793299a6ad6a68bc137bd841}{DeltaTime}} = 0.0f;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00048}00048 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00049}\mbox{\hyperlink{struct_pass_constants_a23503802ae007eb1b745843257371878}{00049}}     DirectX::XMFLOAT4 \mbox{\hyperlink{struct_pass_constants_a23503802ae007eb1b745843257371878}{AmbientLight}} = \{ 0.0f, 0.0f, 0.0f, 1.0f \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00051}00051     \textcolor{comment}{// Indices [0, NUM\_DIR\_LIGHTS) are directional lights;}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00052}00052     \textcolor{comment}{// indices [NUM\_DIR\_LIGHTS, NUM\_DIR\_LIGHTS+NUM\_POINT\_LIGHTS) are point lights;}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00053}00053     \textcolor{comment}{// indices [NUM\_DIR\_LIGHTS+NUM\_POINT\_LIGHTS, NUM\_DIR\_LIGHTS+NUM\_POINT\_LIGHT+NUM\_SPOT\_LIGHTS)}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00054}00054     \textcolor{comment}{// are spot lights for a maximum of MaxLights per object.}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00055}\mbox{\hyperlink{struct_pass_constants_ab8ff697b065ed13983d022e44e09f35f}{00055}}     Light \mbox{\hyperlink{struct_pass_constants_ab8ff697b065ed13983d022e44e09f35f}{Lights}}[MaxLights];}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00056}00056 \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00061}\mbox{\hyperlink{struct_vertex}{00061}} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_vertex}{Vertex}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00062}00062 \{}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00063}\mbox{\hyperlink{struct_vertex_af07583772f2c7eee146e655826467dcb}{00063}}     DirectX::XMFLOAT3 \mbox{\hyperlink{struct_vertex_af07583772f2c7eee146e655826467dcb}{Pos}};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00064}\mbox{\hyperlink{struct_vertex_a553ed48ae98dda36da8e57cfa53877d4}{00064}}     DirectX::XMFLOAT3 \mbox{\hyperlink{struct_vertex_a553ed48ae98dda36da8e57cfa53877d4}{Normal}};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00065}00065     \textcolor{comment}{//step1}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00066}\mbox{\hyperlink{struct_vertex_a43e8c374e56c6ed3acc708ba2de1c70c}{00066}}     DirectX::XMFLOAT2 \mbox{\hyperlink{struct_vertex_a43e8c374e56c6ed3acc708ba2de1c70c}{TexC}};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00067}00067 \};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00068}00068 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00069}00069 \textcolor{comment}{// Stores the resources needed for the CPU to build the command lists}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00070}00070 \textcolor{comment}{// for a frame.  }}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00071}\mbox{\hyperlink{struct_frame_resource}{00071}} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_frame_resource}{FrameResource}}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00072}00072 \{}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00073}00073 \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00074}00074 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00075}00075     \mbox{\hyperlink{struct_frame_resource_a496fdce5ab50522a3dcbf9260be6e86c}{FrameResource}}(ID3D12Device* device, UINT passCount, UINT objectCount, UINT materialCount);}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00076}\mbox{\hyperlink{struct_frame_resource_a847d99ad6c492fd988ab52623e56aed5}{00076}}     \mbox{\hyperlink{struct_frame_resource_a847d99ad6c492fd988ab52623e56aed5}{FrameResource}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_frame_resource}{FrameResource}}\& rhs) = \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00077}\mbox{\hyperlink{struct_frame_resource_a4d75d2a5a7bca5a0bd70a15b449c5776}{00077}}     \mbox{\hyperlink{struct_frame_resource}{FrameResource}}\& \mbox{\hyperlink{struct_frame_resource_a4d75d2a5a7bca5a0bd70a15b449c5776}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_frame_resource}{FrameResource}}\& rhs) = \textcolor{keyword}{delete};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00078}00078     \mbox{\hyperlink{struct_frame_resource_a93d669d1d4db3b4ed5cd6f0f6b921809}{\string~FrameResource}}();}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00080}00080     \textcolor{comment}{// We cannot reset the allocator until the GPU is done processing the commands.}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00081}00081     \textcolor{comment}{// So each frame needs their own allocator.}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00082}\mbox{\hyperlink{struct_frame_resource_a2c0624d447e7fe7697b37a91275066d1}{00082}}     Microsoft::WRL::ComPtr<ID3D12CommandAllocator> \mbox{\hyperlink{struct_frame_resource_a2c0624d447e7fe7697b37a91275066d1}{CmdListAlloc}};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00084}00084     \textcolor{comment}{// We cannot update a cbuffer until the GPU is done processing the commands}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00085}00085     \textcolor{comment}{// that reference it.  So each frame needs their own cbuffers.}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00086}00086    \textcolor{comment}{// std::unique\_ptr<UploadBuffer<FrameConstants>> FrameCB = nullptr;}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00087}\mbox{\hyperlink{struct_frame_resource_a2a301e2320545cc025551247f9f60df5}{00087}}     std::unique\_ptr<UploadBuffer<PassConstants>> \mbox{\hyperlink{struct_frame_resource_a2a301e2320545cc025551247f9f60df5}{PassCB}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00088}\mbox{\hyperlink{struct_frame_resource_a502a3bd044ed30d31280f4382cc07570}{00088}}     std::unique\_ptr<UploadBuffer<MaterialConstants>> \mbox{\hyperlink{struct_frame_resource_a502a3bd044ed30d31280f4382cc07570}{MaterialCB}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00089}\mbox{\hyperlink{struct_frame_resource_adec81cdfb788278fac8ad38066e6c18f}{00089}}     std::unique\_ptr<UploadBuffer<ObjectConstants>> \mbox{\hyperlink{struct_frame_resource_adec81cdfb788278fac8ad38066e6c18f}{ObjectCB}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00090}00090 }
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00091}00091     \textcolor{comment}{// Fence value to mark commands up to this fence point.  This lets us}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00092}00092     \textcolor{comment}{// check if these frame resources are still in use by the GPU.}}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00093}\mbox{\hyperlink{struct_frame_resource_aa90bdd44edbdbebf156b7cdb01437b8a}{00093}}     UINT64 \mbox{\hyperlink{struct_frame_resource_aa90bdd44edbdbebf156b7cdb01437b8a}{Fence}} = 0;}
\DoxyCodeLine{\Hypertarget{_frame_resource_8h_source_l00094}00094 \};}

\end{DoxyCode}
